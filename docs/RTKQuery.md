# RTK Query の概要

`RTK Query`は、強力なデータフェッチおよびキャッシュツールです。これは、Web アプリケーションにデータをロードする一般的なケースを簡素化するように設計されており、それらのロジックを自分で手書きする必要がありません。

## ReduxToolkit の API 上に構築されている

`ReduxToolkit`に含まれているオプションのアドオンであり、その API の上に構築されています。

- データのフェッチとキャッシュ
  - `ReduxToolkit`の`createSlice`と`createAsyncThunk`API の上に構築されています
- API の定義
  - 引数からクエリパラメータを生成する方法や、キャッシュ用に応答を変換する方法など、事前に定義します。
- キャッシュされたデータの存続期間
  - コンポーネントがマウントおよびアンマウントされるときにキャッシュされたデータの存続期間を管理することもできます。

## ベース URL ごとに 1 つの API スライス

`createApi()`は RTK クエリの機能の中核です。

- 一連のエンドポイントを定義
- 一連のエンドポイントからデータを取得する方法を記述
- データをフェッチおよび変換する方法の構成も含まれます

## 高度なリフェッチ

`setupListeners`は`refetchOnFocus`, `refetchOnReconnect`の動作を実現するユーティリティです

- アプリケーションがフォーカスを取り戻した時
  - `refetchOnFocus`
- ネットワークコネクションが復活したとき
  - `refetchOnReconnect`
